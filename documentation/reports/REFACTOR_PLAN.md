# InsightSpike-AI リファクタリング計画

## 🎯 目標: 動作するMVPの完成

### Phase 1: コードベース整理 (1-2週間)

#### ✅ 完了
- [x] Intel Mac専用コード削除
- [x] CI軽量化
- [x] 基本的なutils、config、cache_manager修正

#### 🔄 進行中
- [ ] **コードベース統合**
  - [ ] src/insightspike_backup/ 削除
  - [ ] _old.py, _new.py ファイル統合
  - [ ] 未使用ディレクトリ削除

#### 📋 TODO
- [ ] **コア機能実装**
  - [ ] ΔGED計算の完全実装
  - [ ] ΔIG計算の完全実装  
  - [ ] C-value更新メカニズム
  - [ ] EurekaSpike判定ロジック

- [ ] **統合テスト**
  - [ ] エンドツーエンドテスト作成
  - [ ] Colabでの動作確認
  - [ ] 最小限のデモケース

### Phase 2: MVP機能完成 (2-3週間)

- [ ] **L1-L4層の完全実装**
  - [ ] L1: エラー監視（簡易版）
  - [ ] L2: FAISS + C-value管理
  - [ ] L3: ΔGED/ΔIG計算
  - [ ] L4: LLM統合

- [ ] **CLI動作**
  - [ ] `insightspike embed` 完全動作
  - [ ] `insightspike loop` 完全動作
  - [ ] デモケース用データ準備

### Phase 3: 研究評価 (1-2週間)

- [ ] **ベンチマーク実装**
  - [ ] 小規模QAデータセット
  - [ ] ΔGED/ΔIGスパイク可視化
  - [ ] 従来RAG vs InsightSpike比較

## 🚀 成功指標

1. **技術的成功**:
   - Colab環境で完全動作
   - "Hello World"レベルのinsight検出
   - 可視化可能なΔGED/ΔIGスパイク

2. **研究的成功**:
   - 論文投稿可能な実験結果
   - 独自性の明確な実証
   - 再現可能なデモ

## 📊 現実的なスコープ調整

### 削減候補
- [ ] マルチモーダル機能（L0）
- [ ] 複雑なガードレール機能
- [ ] 大規模実装（当面は小規模POC）

### 集中領域
- [x] ΔGED/ΔIG核心メカニズム
- [x] 4層アーキテクチャの基本実装
- [x] Colab環境での安定動作
