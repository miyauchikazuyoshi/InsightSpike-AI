[tool.poetry]
name = "insightspike-ai"
version = "0.8.0"
description = "Brain-Inspired Multi-Agent Architecture for Insight Detection and Knowledge Restructuring"
authors = ["Kazuyoshi Miyauchi <k.miyauchi@insight-spike.ai>"]
packages = [{ include = "insightspike", from = "src" }]
readme = "README.md"
homepage = "https://github.com/miyauchikazuyoshi/InsightSpike-AI"
repository = "https://github.com/miyauchikazuyoshi/InsightSpike-AI"
keywords = ["artificial-intelligence", "insight-detection", "knowledge-graphs", "reinforcement-learning", "neuroscience"]
classifiers = [
    "Development Status :: 4 - Beta",
    "Intended Audience :: Science/Research",
    "License :: OSI Approved :: InsightSpike AI Responsible Use License Agreement v1.0",
    "Operating System :: OS Independent",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.11",
    "Topic :: Scientific/Engineering :: Artificial Intelligence",
    "Topic :: Software Development :: Libraries :: Python Modules",
]

[tool.poetry.dependencies]
python = "^3.10"

# Colab-optimized ML dependencies - use versions that work with NumPy 2.x
# GPU versions prioritized for Colab's T4/V100 GPUs
torch = "^2.3.0"  # PyTorch 2.3+ has better NumPy 2.x compatibility
torchvision = "^0.18.0"  # Compatible with PyTorch 2.3+
torchaudio = "^2.3.0"
torch-geometric = "^2.4.0"  # Newer version with NumPy 2.x support

# NumPy - use 2.x to match Colab's pre-installed version
numpy = "^2.0.0"  # Colab 2025 uses NumPy 2.x by default

# Core dependencies optimized for NumPy 2.x compatibility in Colab
sentence-transformers = "^2.5.0"  # Newer version with NumPy 2.x support
transformers = "^4.40.0"  # Latest HuggingFace with NumPy 2.x compatibility
scipy = "^1.13.0"  # NumPy 2.x compatible version
networkx = "^3.2.0"  # Updated for NumPy 2.x
scikit-learn = "^1.4.0"  # Latest stable with NumPy 2.x support

# CLI and utilities - version compatibility fixed for Typer + Click
typer = "^0.9.0"  # Compatible version, avoiding Click 8.2.x issues
click = "<8.2.0"  # Ensure compatible Click version
rich = "^13.7.0"  # Updated version
pyyaml = "^6.0.1"
packaging = "^24.0"  # Latest stable

# Visualization - essential for Colab notebooks
matplotlib = "^3.7.0"
seaborn = "^0.12.0"
plotly = "^5.17.0"

# RAG and vector search dependencies (Phase 2 specific)
langchain = "^0.1.0"
langchain-community = "^0.0.20"
langchain-huggingface = "^0.0.1"
llama-index = "^0.10.0"
farm-haystack = "^1.21.0"
faiss-gpu = "^1.7.4"  # GPU version for Colab

# Data processing and evaluation
datasets = "^2.16.0"
evaluate = "^0.4.1"
accelerate = "^0.26.0"

# Additional utilities for experiments
tqdm = "^4.66.0"
imageio = "^2.34.0"  # Latest version
pillow = "^10.2.0"

# Memory and performance monitoring
psutil = "^5.9.0"
pandas = "^2.0"  # Always include pandas in Colab

# Vector search - CPU version for NumPy 2.x compatibility
faiss-cpu = "^1.8.0"  # CPU version compatible with NumPy 2.x

# Jupyter ecosystem - essential for Colab
jupyter = "^1.0"
ipykernel = "^6.20.0"
ipywidgets = "^8.0.0"  # For interactive widgets in Colab

[tool.poetry.group.colab-extras.dependencies]
# Additional Colab-specific packages (optional extras)
# Note: google-colab is pre-installed in Colab environment

[tool.poetry.extras]
# Simplified extras for Colab - all essential packages are in main dependencies
full = []  # Empty since all Colab essentials are now in main dependencies

[tool.poetry.scripts]
insightspike = "insightspike.cli.main:main"

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

[tool.black]
line-length = 88
target-version = ['py310']
include = '\.pyi?$'
extend-exclude = '''
/(
  # directories
  \.eggs
  | \.git
  | \.hg
  | \.mypy_cache
  | \.tox
  | \.venv
  | build
  | dist
)/
'''

[tool.isort]
profile = "black"
multi_line_output = 3
line_length = 88
