# Mathematical Concept Evolution Experiment

## 概要
小学校から大学レベルまで、段階的に数学概念を学習させ、エピソード記憶の統合・分離を観察する実験。

## 実験の特徴
- **時系列的学習**: 概念が段階的に深化・変化
- **多義的概念**: 同じ言葉が異なる文脈で異なる意味を持つ
- **矛盾と統合**: 初期の素朴な理解が後に洗練される
- **エピソード記憶の動的再編成**: 新しい理解による過去の記憶の再解釈

## 学習段階

### Phase 1: 小学校レベル（素朴な理解）
```
- "分数は pizza を切ったもの"
- "掛け算は同じ数を何回も足すこと"
- "0で割ることはできない（理由は不明）"
- "マイナス×マイナスは謎だけどプラス"
```

### Phase 2: 中学校レベル（拡張と矛盾）
```
- "分数は比を表す"（pizza の理解と統合必要）
- "負の数×負の数=正の数"（数直線での説明）
- "文字式で一般化できる"
- "平方根は2乗したらその数になる数"
```

### Phase 3: 高校レベル（抽象化）
```
- "関数は写像である"
- "微分は瞬間の変化率"
- "積分は微分の逆演算"（面積の話はどこへ？）
- "複素数 i は2乗すると-1"（実数の拡張）
```

### Phase 4: 大学レベル（再定義）
```
- "実数は完備順序体"（小数の理解を包含）
- "関数は集合間の対応"（y=f(x)を超えて）
- "積分はルベーグ測度による"（リーマン積分の一般化）
- "0で割るは未定義ではなく、拡張可能"（リーマン球面）
```

## 実験結果（瞬間的ΔGED実装）

### 検出された記憶操作
本実験では、4回の概念分裂（split）操作が検出されました：

| 時期 | 概念 | エピソード数変化 | 意味 |
|------|------|-----------------|------|
| Day 100 | 負の数 | 5→6 | 正の数のみから負の数を含む理解へ |
| Day 210 | 掛け算 | 11→12 | 繰り返し加算からスケーリング操作へ |
| Day 300 | 関数 | 12→13 | 具体的対応から抽象的写像へ |
| Day 310 | 数 | 13→14 | 具体的な数から数体系の階層へ |

### 主要な発見
- **高geDIGスコア（>2.5）が記憶再編成のトリガー**
- **概念の抽象化に伴う分裂パターン**
- **最終的に14エピソード、12の独自概念**

### 実験の透明性に関する注記
- **入力データ**: `data/phase1_elementary.json`, `data/phase2_middle_school.json`に格納
- **限界**: 概念の進化は著者が設計した学習順序に依存
- **再現性**: 同じ入力データと順序でないと同じ結果は得られない
- **検証待ち**: 実際の教科書データでの追試が必要

## 期待される記憶操作

### 1. **統合（Merge）の例**
- "pizza分数" + "比としての分数" → "分数の統一的理解"
- "足し算の繰り返し" + "スケーリング" → "乗法の本質"

### 2. **分離（Split）の例**
- "積分=面積" → "リーマン積分（面積）" + "ルベーグ積分（測度）"
- "関数=式" → "初等関数" + "一般の写像"

### 3. **再編成（Reorganize）の例**
- 負の数の導入時：数の概念全体の再構築
- 複素数の導入時：実数の特殊ケースとしての再配置

## 実験プロトコル

### 入力形式
```json
{
  "phase": 1,
  "concept": "fraction",
  "explanation": "1/2 は pizza を半分に切ったもの",
  "examples": ["1/2 + 1/2 = 1（pizza が元に戻る）"],
  "timestamp": "2024-01-01T09:00:00Z",
  "source": "elementary_math"
}
```

### 評価指標
1. **エピソード統合率**: 関連概念がどれだけ統合されたか
2. **概念進化追跡**: 同一概念がどう変化したか
3. **矛盾解消パターン**: 初期理解との矛盾をどう解決したか
4. **洞察生成**: 段階間の飛躍で生まれる洞察

## 実装計画
1. 数学概念データセットの作成（各段階20-30概念）
2. MainAgentのエピソード記憶機能を活用
3. 時系列での概念投入
4. 記憶操作のログ収集と分析
5. 概念理解の深化を可視化