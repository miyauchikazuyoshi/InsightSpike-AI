# ループ問題の分析

## 現象
全てのナビゲーター実装で、特定の位置間でループが発生している。

## 根本原因
1. **経路追跡の不整合**: `current_path_episodes`が移動の失敗でリセットされるが、成功した移動の連続性が失われる
2. **未探索領域への経路探索の不具合**: BFSが正しく未探索領域を発見できていない
3. **エピソード接続の問題**: エピソードの接続関係が期待通りに形成されていない

## 具体例（フロンティア探索）
```
Episode 4: (2,1) → (3,1) 成功
Episode 5: (3,1) → (4,1) 成功
Episode 6: (4,1) → (3,1) 成功  ← ここで戻ってしまう
```

## 解決案

### 1. シンプルな未探索優先戦略
- 既知の全ての位置と未探索方向を管理
- 現在位置から最も近い未探索方向へ移動

### 2. 経路の一貫性維持
- エピソード単位ではなく、位置単位での経路管理
- 既訪問位置への戻りを最小限に抑える

### 3. 異物なエントロピーの活用強化
- 行き止まり情報の伝播をより積極的に
- 未探索領域への誘導に活用